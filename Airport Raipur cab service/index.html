<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raipur Airport â†” Bhilai Travel Service</title>
    <link rel="stylesheet" href="/styles.css">
    <script>(function(){var p=new URLSearchParams(location.search).get('logo');var s='';try{s=localStorage.getItem('logoPublicUrl')||'';}catch(_){}var u=p||s||'';var e=document.createElement('script');e.src='/api/logo.js'+(u?('?u='+encodeURIComponent(u)):'');document.head.appendChild(e);})();</script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <img class="logo-icon" alt="CGcabz" decoding="async" src="/assets/logo.svg" onerror="this.onerror=null; if(window.APP_LOGO_URL){ this.src=window.APP_LOGO_URL; } else { this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 300 100\'><defs><linearGradient id=\'g1\' x1=\'0\' y1=\'0\' x2=\'1\' y2=\'0\'><stop offset=\'0\' stop-color=\'#22c55e\'/><stop offset=\'1\' stop-color=\'#0ea5e9\'/></linearGradient><linearGradient id=\'g2\' x1=\'0\' y1=\'0\' x2=\'1\' y2=\'0\'><stop offset=\'0\' stop-color=\'#06b6d4\'/><stop offset=\'1\' stop-color=\'#1e40af\'/></linearGradient></defs><text x=\'24\' y=\'62\' font-family=\'Inter,Segoe UI,Arial,sans-serif\' font-weight=\'900\' font-size=\'56\' fill=\'url(#g1)\'>CG</text><text x=\'120\' y=\'62\' font-family=\'Inter,Segoe UI,Arial,sans-serif\' font-weight=\'900\' font-size=\'56\' fill=\'url(#g2)\'>cabz</text><path d=\'M24 74 C72 52 120 86 168 64 C204 52 240 70 276 58 L276 90 L24 90 Z\' fill=\'url(#g2)\' opacity=\'0.85\'/><path d=\'M24 78 C72 60 120 92 168 72 C204 60 240 78 276 66\' stroke=\'url(#g1)\' stroke-width=\'5\' fill=\'none\' opacity=\'0.9\'/></svg>'; }"/>
                <h1 class="title">Raipur Airport â†” Bhilai Travel Service @900 only</h1>
            </div>
            <div class="instructions" role="region" aria-label="How to book">
                <div class="instructions-title">How to book</div>
                <ol class="instructions-list">
                    <li>Select the available date and slot from the calendar as per your journey date and time</li>
                    <li>Enter trip direction, vehicle, location and phone number, then click Book Ride</li>
                </ol>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="booking-section">
                <!-- Calendar Section -->
                <div class="calendar-container">
                    <div class="calendar-header">
                        <button class="nav-btn" id="prevMonth">â€¹</button>
                        <h2 class="month-year" id="monthYear">November 2024</h2>
                        <button class="nav-btn" id="nextMonth">â€º</button>
                    </div>
                    
                    <div class="calendar-grid" id="calendarGrid" role="grid" aria-label="Choose a pickup date">
                        <div class="weekday">Sun</div>
                        <div class="weekday">Mon</div>
                        <div class="weekday">Tue</div>
                        <div class="weekday">Wed</div>
                        <div class="weekday">Thu</div>
                        <div class="weekday">Fri</div>
                        <div class="weekday">Sat</div>
                    </div>

                    <div class="availability-legend">
                        <div class="legend-item">
                            <div class="legend-color available"></div>
                            <span>Both slots available</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color partial"></div>
                            <span>One slot booked</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color booked"></div>
                            <span>Fully booked</span>
                        </div>
                    </div>
                </div>

                

                <!-- Booking Form -->
                <div class="booking-form-container">
                    <h3 class="form-title">Book Your Ride</h3>
                    <div id="notice" class="notice hidden" role="status" aria-live="polite"></div>
                    
                    <form class="booking-form" id="bookingForm">
                        <div class="form-group">
                            <label>Selected Date</label>
                            <div class="selected-date-display" id="selectedDateDisplay">
                                <span class="no-date-selected">Please select a date from the calendar</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" id="name" name="name" required>
                        </div>

                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>

                        <div class="form-group">
                            <label>Pickup Time</label>
                            <div class="time-tabs">
                                <button type="button" class="time-tab active" data-time="morning">
                                    Morning
                                    <span class="time-range">6 am to 6 pm</span>
                                </button>
                                <button type="button" class="time-tab" data-time="evening">
                                    Evening
                                    <span class="time-range">6 pm to 12 pm</span>
                                </button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Exact Pickup Time (optional)</label>
                            <div class="time-input-row">
                                <input type="number" id="manualHour" min="1" max="12" placeholder="HH" aria-label="Hour" inputmode="numeric" pattern="[0-9]*">
                                <span class="colon">:</span>
                                <input type="number" id="manualMinute" min="0" max="59" placeholder="MM" aria-label="Minute" inputmode="numeric" pattern="[0-9]*">
                                <select id="manualAmPm" aria-label="AM or PM">
                                    <option value="AM">AM</option>
                                    <option value="PM">PM</option>
                                </select>
                            </div>
                            <div class="help-text">Specify an exact pickup time (e.g., 08:30 AM). Slots still apply.</div>
                        </div>

                        <div class="form-group">
                            <label>Trip Direction</label>
                            <div class="trip-type-buttons">
                                <label class="radio-button">
                                    <input type="radio" name="tripType" value="home-to-airport" checked>
                                    <span class="radio-label">Home to Airport</span>
                                </label>
                                <label class="radio-button">
                                    <input type="radio" name="tripType" value="airport-to-home">
                                    <span class="radio-label">Airport to Home</span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Select Vehicle</label>
                            <div class="vehicle-select" id="vehicleSelectControl">
                                <button type="button" id="vehicleDropdown" class="dropdown-button" aria-haspopup="listbox" aria-expanded="false">Select vehicle</button>
                                <div id="vehicleMenu" class="dropdown-menu hidden" role="listbox" aria-labelledby="vehicleDropdown"></div>
                            </div>
                            <select id="vehicleSelect" class="native-select" style="display:none;"></select>
                        </div>
                        <div class="form-group">
                            <label>Rate</label>
                            <div id="vehicleRateDisplay">â‚¹0</div>
                        </div>

                        


                        <div class="form-group">
                            <label for="location">Pickup/Drop Location</label>
                            <div class="location-input-container">
                                <input type="text" id="location" name="location" placeholder="Paste Google Maps link or use Detect Location (coords)" required>
                                <button type="button" class="location-detect-btn" id="detectLocation">
                                    <svg class="location-icon" viewBox="0 0 24 24" fill="none">
                                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="currentColor"/>
                                    </svg>
                                    Detect Location
                                </button>
                            </div>
                            <div class="location-help">
                                ðŸ’¡ Tip: Enter address (min 5 chars), paste a Google Maps link, or click Detect Location to fill coordinates
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="flightNumber">Flight Number (optional)</label>
                            <input type="text" id="flightNumber" name="flightNumber" placeholder="Enter flight number (optional)">
                        </div>

                        <button type="submit" class="book-ride-btn">
                            Book Ride
                            <svg class="btn-icon" viewBox="0 0 24 24" fill="none">
                                <path d="M5 12h14m-7-7l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <div class="footer-actions">
                            <a href="/about.html" class="btn-link" aria-label="About our service">About Us</a>
                            <a href="/faq.html" class="btn-link btn-secondary" aria-label="Frequently Asked Questions">FAQs</a>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <style>
        .modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;z-index:3000}
        .modal{background:#fff;border-radius:10px;max-width:720px;width:92vw;box-shadow:0 10px 30px rgba(0,0,0,.25)}
        .modal-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid #e5e7eb;font-weight:600}
        .modal-body{padding:0}
        .modal-footer{padding:12px 16px;display:flex;gap:8px;justify-content:flex-end;border-top:1px solid #e5e7eb}
        #mapCanvas{width:720px;max-width:92vw;height:380px}
        .hidden{display:none}
      .modal-btn{padding:8px 12px;border-radius:6px;border:1px solid #cbd5e1;background:#0ea5e9;color:#fff}
      .modal-btn-secondary{background:#fff;color:#334155}
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <div id="mapOverlay" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <span>Calibrate Location</span>
          <button id="closeMap" class="modal-btn modal-btn-secondary">Close</button>
        </div>
        <div class="modal-body">
          <div id="mapCanvas"></div>
        </div>
        <div class="modal-footer">
          <button id="useCoords" class="modal-btn">Use These Coordinates</button>
        </div>
      </div>
    </div>

    <!-- Hidden Admin Access Element -->
    <div id="adminAccess" class="admin-access-hidden" style="position: fixed; top: 0; left: 0; width: 10px; height: 10px; cursor: pointer; z-index: 9999;" title="Admin Access (Triple-click or Ctrl+Shift+A)"></div>
    
    <script src="/script-backend.js"></script>
    <script>
        // Hidden admin access functionality
        let adminClickCount = 0;
        let adminClickTimer;
        
        // Method 1: Triple-click on hidden area
        document.getElementById('adminAccess').addEventListener('click', function() {
            adminClickCount++;
            clearTimeout(adminClickTimer);
            
            if (adminClickCount >= 3) {
                window.open('/admin.html', '_blank');
                adminClickCount = 0;
            }
            
            adminClickTimer = setTimeout(() => {
                adminClickCount = 0;
            }, 1000);
        });
        
        // Method 2: Keyboard shortcut Ctrl+Shift+A
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.shiftKey && e.key === 'A') {
                e.preventDefault();
                window.open('/admin.html', '_blank');
            }
        });
        
        // Method 3: Konami code for fun (for developers who know it)
        let konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let konamiIndex = 0;
        
        document.addEventListener('keydown', function(e) {
            if (e.key === konamiCode[konamiIndex]) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    window.open('/admin.html', '_blank');
                    konamiIndex = 0;
                }
            } else {
                konamiIndex = 0;
            }
        });
    </script>
</body>
</html>
